# Описание API
Здесь описано всё API, используемое в приложении, с описанием структур данных


**Содержание**
1. Общее
    * 1.1. Адрес сервера
    * 1.2. Используемый протокол
2. Структуры данных
    * 2.1. Общий формат ответа
    * 2.2. Пользователь
    * 2.3. Математика
    * 2.4. Комната (лобби)
    * 2.5. Чат
    * 2.6. Боты
    * 2.7. Стрелы
    * 2.8. Сцена игры
    * 2.9. Классы
    * 2.10. Предметы
3. Список запросов
    * 3.1. Описание запросов
    * 3.2. Список ошибок
    * 3.3. Примеры запросов
4. Подробно
    * 4.1. UserManager
    * 4.2. MathManager
    * 4.3. ChatManager
    * 4.4. LobbyManager
    * 4.5. ClassManager
    * 4.6. ItemManager
    * 4.7. GameManager


## 1. Общее
### 1.1. Адрес сервера
`http://server/api`

### 1.2. Используемый протокол
API полностью реализовано на http(s). 

Формат возвращаемых значений `JSON`.

Все методы, если это особо не оговорено, имеют тип `GET`.


## 2. Структуры данных
### 2.1. Общий формат ответа
T — какие-то данные. В случае успешного ответа возвращается result = 'ok' и поле data с данными.

В случае ошибки возвращается result = 'error' и поле error с кодом и текстом ошибки
```
Answer<T>: {
    result: 'ok' | 'error';
    data?: T;
    error?: {
        code: number;
        text: string;
    };
}
```

### 2.2. Пользователь
```
User: {
    id: number;
    nickname: string;
    token: string;
}

UserInfo: {
    character_id: number;
    user_id: number;
    login: string;
    nickname: string;
    money: string;
    selectedClass: number;
    purchasedClasses: array of numbers;
    purchasedItems: [
        {
        "itemId": number,
        "quantity": number,
      },
    ];
}
```

### 2.3. Математика
```
MathResult: number[];
```

### 2.4. Комната (лобби)
```
Room: {
    id: number;
    name: string;
    status: 'open' | 'closed' | 'started';
    room_size: number;
    players_count: number;
}

RoomMember: {
    characterId: number,
    type: 'owner' | 'participant',
    status: 'ready' | 'started',
    actionStatus: 'idle' | 'move' | 'attack' | 'shoot' | 'block' | 'dead',
    userId: number,
    login: string,
    nickname: string,
    money: string,
    token: string,
    selectedClass: number
}

RoomMembersResponse: {
    room_status: 'open' | 'closed' | 'started';
    members: RoomMember[];
}

RoomsResponse: {
    status: 'unchanged' | 'updated';
    hash?: string;
    rooms?: Array<{
        id: number;
        name: string;
        status: 'open' | 'closed' | 'started';
        roomSize: number;
        playersCount: number;
        members: RoomMember[];
    }>;
}
```

### 2.5. Чат
```
Message: {
    author: string;
    message: string;
    created: string;
}

ChatResponse: {
    status: 'unchanged' | 'updated';
    hash?: string;
    messages?: Message[];
}
```

### 2.6. Боты
```
Bot: {
    id: number,
    name: string,
    hp: number,
    damage: number,
    attackSpeed: number,
    attackDistance: number,
    money: number
}

BotInRoom: {
    id: number,
    roomId: number,
    data: string
}
```

### 2.7. Стрелы
```
ArrowInRoom: {
    id: number,
    roomId: number,
    data: string
}
```

### 2.8. Сцена игры
```
SceneResponse: {
    status: 'unchanged' | 'updated';
    game_status: 'open' | 'closed' | 'started';
    character_hash?: string;
    bot_hash?: string;
    arrow_hash?: string;
    characters?: RoomMember[];
    bots?: BotInRoom[];
    arrows?: ArrowInRoom[];
}
```

### 2.9. Классы
```
Class: {
    id: number;
    name: string; 
    type: string; 
    cost: number;
    hp: number;
    defense: number;
}
```

### 2.10. Предметы
```
Item: {
    id: number,
    name: string,
    itemType: 'weapon' | 'helmet' | 'chestplate' | 'leggings' | 'shield' | 'potion' | 'arrow',
    weaponType: 'sword' | 'bow' | 'axe' | 'staff' | 'dagger' | null,
    damage: number,
    attackSpeed: number,
    attackDistance: number,
    bonusDefense: number,
    bonusHp: number,
    cost: number,
}
```

## 3. Список запросов
### 3.1. Описание запросов
#### 3.1.1. UserManager
| Название | Описание |
| - | - |
| login | Авторизация пользователя |
| logout | Логаут пользователя |
| registration | Регистрация пользователя |
| deleteUser | Удаление пользователя |
| getUserInfo | Получение информации о пользователе |

#### 3.1.2. MathManager
| Название | Описание |
| - | - |
| math | Решение уравнения (1–4 степени) |

#### 3.1.3. ChatManager
| Название | Описание |
| - | - |
| sendMessage | Отправка сообщения в чат |
| getMessages | Получение сообщений чата |

#### 3.1.4. LobbyManager
| Название | Описание |
| - | - |
| createRoom | Создание комнаты |
| joinToRoom | Присоединение к комнате |
| leaveRoom | Выход из комнаты |
| dropFromRoom | Исключение участника из комнаты |
| startGame | Начало игры в комнате |
| renameRoom | Переименование комнаты |
| getRooms | Получение списка комнат |
| endGame | Конец игры в комнате |

#### 3.1.5. ClassManager
| Название | Описание |
| - | - |
| getClasses | Получение списка всех доступных классов |
| buyClass | Покупка класса пользователем |
| selectClass | Выбор активного класса пользователем |

#### 3.1.6. ItemManager
| Название | Описание |
| - | - |
| buyItem | Покупка предмета |
| sellItem | Продажа предмета |
| useArrow | Использование стрелы |
| usePotion | Использование зелья |
| getItemsData | Получение данных всех предметов |

#### 3.1.7. GameManager
| Название | Описание |
| - | - |
| getScene | Получение игровой сцены |
| updateCharacter | Обновление данных персонажа |
| updateBots | Обновление данных ботов |
| updateArrows | Обновление данных стрел |
| getBotsData | Получение данных всех типов ботов |
| addMoneyForKill | Начисление денег за убийство бота |


### 3.2. Список ошибок
* `101` - параметр не передан
* `102` - метод не найден
* `242` - не переданы все необходимые параметры
* `404` - Not found
* `705` - пользователь не найден
* `706` - персонаж не найден
* `1001` - не указан логин или пароль
* `1002` - неверный логин или пароль
* `1003` - ошибка выхода пользователя
* `1004` - ошибка регистрации пользователя
* `1005` - пользователь не существует
* `1006` - пользователь с этой почтой уже зарегестрирован
* `1007` - персонаж не создан
* `1008` - класс не назначен
* `1009` - класс не выбран
* `2001` - пользователь уже играет
* `2002` - вы уже явлеетесь хостом этой комнаты
* `2003` - комната не найдена
* `2004` - пользователь уже в комнате
* `2005` - комната не открыта
* `2006` - пользователя нет в комнате
* `2007` - вы не можете выгнать самого себя
* `2008` - только владелец комнаты может исключать участников
* `2009` - пользователь для исключения не найден в комнате
* `2010` - вы не являетесь хостом комнаты
* `2011` - в комнате не идет игра
* `2012` - комната не заполнена (все игроки должны быть готовы)
* `2013` - недопустимый размер комнаты (должен быть от 1 до 6)
* `2014` - ошибка переименования комнаты
* `2015` - комната не закрыта
* `3001` - класс не найден
* `3002` - класс уже приобретен
* `3003` - недостаточно денег на покупку класса
* `3004` - ошибка при покупке класса
* `3005` - класс не приобретен
* `3006` - класс уже выбран
* `4001` - предмет не найден
* `4002` - недостаточно денег для покупки
* `4003` - предмет уже приобретен
* `4004` - ошибка покупки предмета
* `4005` - достигнут лимит количества для этого типа предмета
* `4006` - предмет не найден в инвентаре
* `4007` - ошибка продажи предмета
* `4008` - лук не экипирован
* `4009` - стрелы не экипированы
* `4010` - зелья не экипированы
* `5001` - тип бота не найден
* `8001` - введите хотя бы одно значение
* `8002` - дискриминант не может быть меньше нуля
* `8003` - действительные корни не найдены
* `9000` - неизвестная ошибка


### 3.3. Примеры запросов
| Название | URL |
| - | - |
| login | http://server/api/?method=login&login=user1&passwordHash=123456 |
| logout | http://server/api/?method=logout&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| registration | http://server/api/?method=registration&login=user1&passwordHash=123456&nickname=User1 |
| deleteUser | http://server/api/?method=deleteUser&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| getUserInfo | http://server/api/?method=getUserInfo&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| math | http://server/api/?method=math&a=1&b=0&c=-4 |
| sendMessage | http://server/api/?method=sendMessage&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&message=Привет |
| getMessages | http://server/api/?method=getMessages&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&hash=ТЕКУЩИЙ_ХЭШ |
| createRoom | http://server/api/?method=createRoom&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&roomName=Комната1&roomSize=4 |
| joinToRoom | http://server/api/?method=joinToRoom&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&roomId=1 |
| leaveRoom | http://server/api/?method=leaveRoom&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| dropFromRoom | http://server/api/?method=dropFromRoom&token=ТОКЕН_ВЛАДЕЛЬЦА&targetToken=ТОКЕН_ЦЕЛИ |
| startGame | http://server/api/?method=startGame&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| renameRoom | http://server/api/?method=renameRoom&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&newRoomName=НовоеНазвание |
| getRooms | http://server/api/?method=getRooms&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&roomHash=ТЕКУЩИЙ_ХЭШ |
| endGame | http://server/api/?method=endGame&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| getClasses | http://server/api/?method=getClasses |
| buyClass | http://server/api/?method=buyClass&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&classId=1 |
| selectClass | http://server/api/?method=selectClass&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&classId=1 |
| buyItem | http://server/api/?method=buyItem&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&itemId=1 |
| sellItem | http://server/api/?method=sellItem&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&itemId=1 |
| useArrow | http://server/api/?method=useArrow&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| usePotion | http://server/api/?method=usePotion&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| getItemsData | http://server/api/?method=getItemsData&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| getScene | http://server/api/?method=getScene&roomId=1&characterHash=ХЭШ&botHash=ХЭШ&arrowHash=ХЭШ |
| updateCharacter | http://server/api/?method=updateCharacter&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&actionStatus=СТАТУС&characterData=ДАННЫЕ_JSON |
| updateBots | http://server/api/?method=updateBots&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&botsData=ДАННЫЕ_JSON |
| updateArrows | http://server/api/?method=updateArrows&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ&arrowsData=ДАННЫЕ_JSON |
| getBotsData | http://server/api/?method=getBotsData&token=ТОКЕН_ПОЛЬЗОВАТЕЛЯ |
| addMoneyForKill | http://server/api/?method=addMoneyForKill&token=ТОКЕН_ОВНЕРА&killerToken=ТОКЕН_УБИЙЦЫ&botTypeId=1 |


## 4. Подробно
### 4.1. UserManager
#### 4.1.1. login
Авторизация пользователя в системе

**Параметры**
```
{
    "login": "string", - логин пользователя 
    "passwordHash": "string" - хэш пароля пользователя 
    "rnd": "string" - случайное число для хэширования
}
```
**Успешный ответ**
```
    Answer<User>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `1002` - неверный логин или пароль
* `1005` - пользователь не существует


#### 4.1.2. logout
Вылогин пользователя из системы

**Параметры**
```
{
    token: string
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `1003` - ошибка выхода из системы


#### 4.1.3. registration
Зарегистрировать нового пользователя

**Параметры**
```
{
    "login": "string", - логин пользователя 
    "passwordHash": "string" - хэш пароля пользователя
    "nickname": "string" - имя пользователя
}
```
**Успешный ответ**
```
    Answer<User>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `1001` - такой логин уже существует
* `1004` - ошибка при регистрации пользователя
* `1007` - персонаж не создан
* `1008` - класс не назначен
* `1009` - класс не выбран


#### 4.1.4. deleteUser
Удаление пользователя из системы

**Параметры**
```
{
    token: string - токен пользователя
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден


#### 4.1.5. getUserInfo
Получение информации о пользователе

**Параметры**
```
{
    "token": "string" - токен пользователя
}
```
**Успешный ответ**
```
   Answer<UserInfo>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `706` - персонаж не найден


### 4.2. MathManager
#### 4.2.1. math
Решение уравнений 1–4 степени

**Параметры**
```
{
    "a": number, - коэффициент при x^4
    "b": number, - коэффициент при x^3
    "c": number, - коэффициент при x^2
    "d": number, - коэффициент при x
    "e": number  - свободный член
}
```
**Успешный ответ**
```
    Answer<MathResult>
```
**Ошибки**
* `8001` - не передан ни один коэффициент
* `8002` - дискриминант < 0 (нет действительных корней)
* `8003` - нет действительных корней


### 4.3. ChatManager
#### 4.3.1. sendMessage
Отправка сообщения в чат

**Параметры**
```
{
    "token": "string", - токен пользователя
    "message": "string" - текст сообщения
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден


#### 4.3.2. getMessages
Получение сообщений чата

**Параметры**
```
{
    "token": "string", - токен пользователя
    "hash": "string" - текущий хэш чата
}
```
**Успешный ответ**
```
    Answer<ChatResponse>
```

**Возможные ответы:**
```
{
    "hash": "текущий_хэш" - данные не изменились
}
```

```
{
    "messages": [
        {
            "author": "string",
            "message": "string", 
            "created": "string"
        }
    ],
    "hash": "новый_хэш"
}
```

**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден


### 4.4. LobbyManager
#### 4.4.1. createRoom
Создание новой комнаты

**Параметры**
```
{
    token: string, - токен пользователя
    roomName: string, - название комнаты
    roomSize: number - размер комнаты (1-6)
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2001` - пользователь уже играет
* `2002` - пользователь уже является владельцем комнаты
* `2013` - неверный размер комнаты


#### 4.4.2. joinToRoom
Присоединение к существующей комнате

**Параметры**
```
{
    token: string, - токен пользователя
    roomId: number - ID комнаты
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2001` - пользователь уже играет
* `2002` - пользователь уже является владельцем комнаты
* `2003` - комната не найдена
* `2004` - пользователь уже в комнате
* `2005` - комната недоступна


#### 4.4.3. leaveRoom
Выход из комнаты

**Параметры**
```
{
    token: string, - токен пользователя
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2006` - пользователь отсутствует в комнате


#### 4.4.4. dropFromRoom
Исключение участника из комнаты владельцем

**Параметры**
```
{
    token: string, - токен владельца комнаты
    targetToken: string - токен исключаемого пользователя
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2007` - владелец не может сам себя выгнать
* `2008` - только владелец может выгнать участников комнаты
* `2009` - пользователь, которого нужно выгнать, не найден в комнате


#### 4.4.5. startGame
Старт игры в комнате (инициатор - только владелец)

**Параметры**
```
{
    token: string - токен владельца комнаты
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2003` - комната не найдена
* `2010` - вы не владелец комнаты
* `2012` - недостаточно игроков для начала игры
* `2015` - комната не закрыта


#### 4.4.6. renameRoom
Переименование комнаты

**Параметры**
```
{
    token: string, - токен владельца комнаты
    newRoomName: string - новое название комнаты
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2003` - комната не найдена
* `2010` - вы не владелец комнаты
* `2014` - ошибка переименования комнаты


#### 4.4.7. getRooms
Получение списка доступных комнат

**Параметры**
```
{
    token: string, - токен пользователя
    roomHash: string - текущий хэш комнат 
}
```
**Успешный ответ**
```
    Answer<RoomsResponse>
```

**Возможные ответы:**
```
{
    status: 'unchanged' - данные не изменились
}
```

```
{
    status: 'updated',
    hash: 'новый_хэш',
    rooms: [
        {
            id: number,
            name: string,
            status: "open" | "closed",
            roomSize: number,
            playersCount: number,
            members: [
                {
                    character_id: number,
                    type: "owner" | "participant",
                    status: "ready" | "started",
                    user_id: number,
                    login: string,
                    nickname: string,
                    money: number,
                    token: string,
                }
            ]
        }
    ]
}
```

**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден


#### 4.4.8. endGame
Конец игры в комнате (инициатор - только владелец)

**Параметры**
```
{
    token: string - токен владельца комнаты
}
```
**Успешный ответ**
```
    Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2003` - комната не найдена
* `2010` - вы не владелец комнаты
* `2011` - в комнате не идет игра

### 4.5. ClassManager
#### 4.5.1 getClasses
Получение списка всех доступных классов

**Параметры**
```
{
}
```
**Успешный ответ**
```
   Answer<Class[]>
```
**Ошибки**
* `3001` - классы не найдены

#### 4.5.2 buyClass
Покупка класса пользователем

**Параметры**
```
{
    "token": "string" - токен пользователя,
    "classId": number - ID класса для покупки
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `706` - персонаж не найден
* `3001` - класс не найден
* `3002` - класс уже приобретен
* `3003` - недостаточно денег на покупку класса
* `3004` - ошибка при покупке класса

#### 4.5.3 selectClass
Выбор активного класса пользователем

**Параметры**
```
{
    "token": "string" - токен пользователя,
    "classId": number - ID класса для выбора
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `706` - персонаж не найден
* `3005` - класс не приобретен
* `3006` - класс уже выбран

### 4.6. ItemManager
#### 4.6.1. buyItem
Покупка предмета

**Параметры**
```
{
    "token": "string" - токен пользователя,
    "itemId": number - ID предмета для покупки
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `4001` - предмет не найден
* `4002` - недостаточно денег для покупки
* `4003` - предмет уже приобретен
* `4004` - ошибка покупки предмета
* `4005` - достигнут лимит количества для этого типа предмета


#### 4.6.2. sellItem
Продажа предмета

**Параметры**
```
{
    "token": "string" - токен пользователя,
    "itemId": number - ID предмета для продажи
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `4001` - предмет не найден
* `4006` - предмет не найден в инвентаре
* `4007` - ошибка продажи предмета


#### 4.6.3. useArrow
Использование стрелы

**Параметры**
```
{
    "token": "string" - токен пользователя
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `706` - персонаж не найден
* `4008` - лук не экипирован
* `4009` - стрелы не экипированы


#### 4.6.4. usePotion
Использование зелья

**Параметры**
```
{
    "token": "string" - токен пользователя
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден
* `706` - персонаж не найден
* `4010` - зелья не экипированы


#### 4.6.5. getItemsData
Получение данных всех предметов

**Параметры**
```
{
    token: string, - токен пользователя
}
```
**Успешный ответ**
```
  Answer<Item[]>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден

### 4.7. GameManager
#### 4.7.1. getScene
Получение игровой сцены (персонажи, боты, стрелы)

**Параметры**
```
{
    roomId: number, - ID комнаты
    characterHash: string, - хэш персонажей
    botHash: string, - хэш ботов
    arrowHash: string - хэш стрел
}
```
**Успешный ответ**
```
  Answer<SceneResponse>
```

**Возможные ответы:**
```
{
    status: 'unchanged',
    game_status: 'started'
}
```

```
{
    status: 'updated',
    game_status: 'started',
    character_hash: 'новый_хэш',
    bot_hash: 'новый_хэш', 
    arrow_hash: 'новый_хэш',
    characters: RoomMember[],
    bots: BotInRoom[],
    arrows: ArrowInRoom[]
}
```

**Ошибки**
* `242` - не переданы все необходимые параметры
* `2003` - комната не найдена


#### 4.7.2. updateCharacter
Обновление данных персонажа в комнате

**Параметры**
```
{
    token: string, - токен пользователя
    actionStatus: string, - статус действия персонажа
    characterData: string - JSON с данными персонажа
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2006` - пользователь отсутствует в комнате


#### 4.7.3. updateBots
Обновление данных ботов в комнате (только владелец)

**Параметры**
```
{
    token: string, - токен владельца комнаты
    botsData: string - JSON с данными ботов
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2010` - вы не владелец комнаты
* `2011` - в комнате не идет игра


#### 4.7.4. updateArrows
Обновление данных стрел в комнате (только владелец)

**Параметры**
```
{
    token: string, - токен владельца комнаты
    arrowsData: string - JSON с данными стрел
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `2010` - вы не владелец комнаты
* `2011` - в комнате не идет игра


#### 4.7.5. getBotsData
Получение данных всех типов ботов

**Параметры**
```
{
    token: string, - токен пользователя
}
```
**Успешный ответ**
```
  Answer<Bot[]>
```
**Ошибки**
* `242` - не передан токен
* `705` - пользователь не найден

#### 4.7.6. addMoneyForKill
Начисление денег за убийство бота

**Параметры**
```
{
    token: string, - токен владельца комнаты
    killerToken: string, - токен убийцы
    botTypeId: number - ID типа бота
}
```
**Успешный ответ**
```
  Answer<true>
```
**Ошибки**
* `242` - не переданы все необходимые параметры
* `705` - пользователь не найден
* `706` - персонаж не найден
* `706` - персонаж убийцы не найден
* `2010` - вы не владелец комнаты
* `2011` - в комнате не идет игра
* `2006` - убийца отсутствует в комнате
* `5001` - тип бота не найден






