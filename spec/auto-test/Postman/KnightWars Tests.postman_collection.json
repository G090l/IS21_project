{
  "info": {
    "_postman_id": "cca8eb91-6fb2-45cc-a4c2-efd5ebd331d0",
    "name": "KnightWars Tests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "49609716",
    "_collection_link": "https://go.postman.co/collection/49609716-cca8eb91-6fb2-45cc-a4c2-efd5ebd331d0?source=collection_link"
  },
  "item": [
    {
      "name": "Авторизация и Регистрация",
      "item": [
        {
          "name": "BE-1 - Успешная регистрация нового пользователя",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "pm.environment.set('be1_login', `autotest_${timestamp}_001`);",
                  "pm.environment.set('be1_nickname', `autotest_nick_${timestamp}_001`);",
                  "pm.environment.set('be1_passwordHash', '25d55ad283aa400af464c76d713c07ad');",
                  "pm.environment.set('be1_rnd', '12345');"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === object\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"id === number\", function () {",
                  "    pm.expect(responseData.data).to.have.property('id');",
                  "    pm.expect(responseData.data.id).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"nickname === string\", function () {",
                  "    pm.expect(responseData.data).to.have.property('nickname');",
                  "    pm.expect(responseData.data.nickname).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"token === string\", function () {",
                  "    pm.expect(responseData.data).to.have.property('token');",
                  "    pm.expect(responseData.data.token).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  "",
                  "pm.test(\"Токен имеет правильный формат\", function () {",
                  "    const token = responseData.data.token;",
                  "    pm.expect(token).to.match(/^[a-f0-9]{32}$/);",
                  "});",
                  "",
                  "if (responseData.result === 'ok') {",
                  "    pm.environment.set(\"be1_userToken\", responseData.data.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be1_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=registration&login={{be1_login}}&passwordHash={{be1_passwordHash}}&nickname={{be1_nickname}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "registration"
                },
                {
                  "key": "login",
                  "value": "{{be1_login}}"
                },
                {
                  "key": "passwordHash",
                  "value": "{{be1_passwordHash}}"
                },
                {
                  "key": "nickname",
                  "value": "{{be1_nickname}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-2 - Регистрация с уже занятым логином",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `test123_${timestamp}`;",
                  "pm.environment.set('be2_login', login);",
                  "pm.environment.set('be2_passwordHash', '25d55ad283aa400af464c76d713c07ad');",
                  "",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=25d55ad283aa400af464c76d713c07ad&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be2_firstUserToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 1001\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(1001);",
                  "    pm.expect(responseData.error.text).to.equal('Не указан логин или пароль');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const firstUserToken = pm.environment.get('be2_firstUserToken');",
                  "if (firstUserToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${firstUserToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=registration&login={{be2_login}}&passwordHash={{be2_passwordHash}}&nickname={{be2_login}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "registration"
                },
                {
                  "key": "login",
                  "value": "{{be2_login}}"
                },
                {
                  "key": "passwordHash",
                  "value": "{{be2_passwordHash}}"
                },
                {
                  "key": "nickname",
                  "value": "{{be2_login}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-3 - Успешная авторизация пользователя",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `testtest_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('testtest12345').toString();",
                  "pm.environment.set('be3_login', login);",
                  "pm.environment.set('be3_passwordHash', passwordHash);",
                  "pm.environment.set('be3_rnd', '12345');",
                  "",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be3_registeredToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === object\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"id === number\", function () {",
                  "    pm.expect(responseData.data).to.have.property('id');",
                  "    pm.expect(responseData.data.id).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"nickname === string\", function () {",
                  "    pm.expect(responseData.data).to.have.property('nickname');",
                  "    pm.expect(responseData.data.nickname).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"token === string\", function () {",
                  "    pm.expect(responseData.data).to.have.property('token');",
                  "    pm.expect(responseData.data.token).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  "",
                  "if (responseData.result === 'ok') {",
                  "    pm.environment.set('be3_userToken', responseData.data.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be3_userToken') || pm.environment.get('be3_registeredToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=login&login={{be3_login}}&passwordHash={{be3_passwordHash}}&rnd={{be3_rnd}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "login"
                },
                {
                  "key": "login",
                  "value": "{{be3_login}}"
                },
                {
                  "key": "passwordHash",
                  "value": "{{be3_passwordHash}}"
                },
                {
                  "key": "rnd",
                  "value": "{{be3_rnd}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-4 - Вход с неправильным паролем",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `test123_${timestamp}`;",
                  "const correctPasswordHash = CryptoJS.MD5('testtest12345').toString();",
                  "pm.environment.set('be4_login', login);",
                  "",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${correctPasswordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be4_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 1002\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(1002);",
                  "    pm.expect(responseData.error.text).to.equal('Неверный логин или пароль');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be4_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=login&login={{be4_login}}&passwordHash=wrong_password_hash_123&rnd=54321",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "login"
                },
                {
                  "key": "login",
                  "value": "{{be4_login}}"
                },
                {
                  "key": "passwordHash",
                  "value": "wrong_password_hash_123"
                },
                {
                  "key": "rnd",
                  "value": "54321"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-5 - Успешный выход пользователя из системы",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `logout_test_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('testtest12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be5_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === boolean\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.a('boolean');",
                  "});",
                  "",
                  "pm.test(\"result === ok and data === true\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "    pm.expect(responseData.data).to.equal(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be5_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=logout&token={{be5_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "logout"
                },
                {
                  "key": "token",
                  "value": "{{be5_userToken}}"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Лобби и Комнат",
      "item": [
        {
          "name": "BE-5 Успешное создание комнаты",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `create_room_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be5_lobby_userToken', data.data.token);",
                  "            pm.environment.set('be5_lobby_roomName', `Моя комната ${timestamp}`);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === boolean\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.a('boolean');",
                  "});",
                  "",
                  "pm.test(\"result === ok and data === true\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "    pm.expect(responseData.data).to.equal(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be5_lobby_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=createRoom&token={{be5_lobby_userToken}}&roomName={{be5_lobby_roomName}}&roomSize=4",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "createRoom"
                },
                {
                  "key": "token",
                  "value": "{{be5_lobby_userToken}}"
                },
                {
                  "key": "roomName",
                  "value": "{{be5_lobby_roomName}}"
                },
                {
                  "key": "roomSize",
                  "value": "4"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-6 Попытка начала игры с меньше 3 игроками",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `start_game_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be6_userToken', data.data.token);",
                  "            pm.environment.set('be6_roomName', `Тестовая комната ${timestamp}`);",
                  "            ",
                  "            const createRoomUrl = pm.environment.get('baseUrl') + `?method=createRoom&token=${data.data.token}&roomName=Тестовая комната ${timestamp}&roomSize=4`;",
                  "            pm.sendRequest({ url: createRoomUrl, method: 'GET', header: {} }, function (err2, res2) {});",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 2012\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(2012);",
                  "    pm.expect(responseData.error.text).to.equal('Комната не заполнена (все игроки должны быть готовы)');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be6_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=startGame&token={{be6_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "startGame"
                },
                {
                  "key": "token",
                  "value": "{{be6_userToken}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-7 Получение актуального списка комнат",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `get_rooms_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be7_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === object\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"status === string\", function () {",
                  "    pm.expect(responseData.data).to.have.property('status');",
                  "    pm.expect(responseData.data.status).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"hash === string\", function () {",
                  "    pm.expect(responseData.data).to.have.property('hash');",
                  "    pm.expect(responseData.data.hash).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"rooms === array\", function () {",
                  "    pm.expect(responseData.data).to.have.property('rooms');",
                  "    pm.expect(responseData.data.rooms).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  "",
                  "pm.test(\"hash имеет правильный формат\", function () {",
                  "    const hash = responseData.data.hash;",
                  "    pm.expect(hash).to.match(/^[a-f0-9]{32}$/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be7_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getRooms&token={{be7_userToken}}&roomHash=initial_hash",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getRooms"
                },
                {
                  "key": "token",
                  "value": "{{be7_userToken}}"
                },
                {
                  "key": "roomHash",
                  "value": "initial_hash"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-9 Исключение участника из комнаты владельцем",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();\r",
                  "const ownerLogin = `owner_${timestamp}`;\r",
                  "const participantLogin = `participant_${timestamp}`;\r",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();\r",
                  "\r",
                  "const registerOwnerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${ownerLogin}&passwordHash=${passwordHash}&nickname=${ownerLogin}`;\r",
                  "pm.sendRequest({ url: registerOwnerUrl, method: 'GET', header: {} }, function (err, res) {\r",
                  "    if (!err && res.code === 200) {\r",
                  "        const data = res.json();\r",
                  "        if (data.result === 'ok') {\r",
                  "            pm.environment.set('be9_ownerToken', data.data.token);\r",
                  "            pm.environment.set('be9_ownerId', data.data.id);\r",
                  "            \r",
                  "            const registerParticipantUrl = pm.environment.get('baseUrl') + `?method=registration&login=${participantLogin}&passwordHash=${passwordHash}&nickname=${participantLogin}`;\r",
                  "            pm.sendRequest({ url: registerParticipantUrl, method: 'GET', header: {} }, function (err2, res2) {\r",
                  "                if (!err2 && res2.code === 200) {\r",
                  "                    const data2 = res2.json();\r",
                  "                    if (data2.result === 'ok') {\r",
                  "                        pm.environment.set('be9_participantToken', data2.data.token);\r",
                  "                        pm.environment.set('be9_participantId', data2.data.id);\r",
                  "                        \r",
                  "                        const createRoomUrl = pm.environment.get('baseUrl') + `?method=createRoom&token=${data.data.token}&roomName=Комната для исключения ${timestamp}&roomSize=4`;\r",
                  "                        pm.sendRequest({ url: createRoomUrl, method: 'GET', header: {} }, function (err3, res3) {\r",
                  "                            if (!err3 && res3.code === 200) {\r",
                  "                                const joinRoomUrl = pm.environment.get('baseUrl') + `?method=joinToRoom&token=${data2.data.token}&roomId=1`;\r",
                  "                                pm.sendRequest({ url: joinRoomUrl, method: 'GET', header: {} }, function (err4, res4) {});\r",
                  "                            }\r",
                  "                        });\r",
                  "                    }\r",
                  "                }\r",
                  "            });\r",
                  "        }\r",
                  "    }\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Ответ === JSON\", function () {\r",
                  "    pm.response.to.be.json;\r",
                  "});\r",
                  "\r",
                  "const responseData = pm.response.json();\r",
                  "\r",
                  "pm.test(\"Ответ === object\", function () {\r",
                  "    pm.expect(responseData).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === string\", function () {\r",
                  "    pm.expect(responseData).to.have.property('result');\r",
                  "    pm.expect(responseData.result).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"data === boolean\", function () {\r",
                  "    pm.expect(responseData).to.have.property('data');\r",
                  "    pm.expect(responseData.data).to.be.a('boolean');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === ok and data === true\", function () {\r",
                  "    pm.expect(responseData.result).to.equal('ok');\r",
                  "    pm.expect(responseData.data).to.equal(true);\r",
                  "});\r",
                  "\r",
                  "const ownerToken = pm.environment.get('be9_ownerToken');\r",
                  "const participantToken = pm.environment.get('be9_participantToken');\r",
                  "\r",
                  "if (ownerToken) {\r",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${ownerToken}`;\r",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});\r",
                  "}\r",
                  "\r",
                  "if (participantToken) {\r",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${participantToken}`;\r",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});\r",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=dropFromRoom&token={{be9_ownerToken}}&targetToken={{be9_participantToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "dropFromRoom"
                },
                {
                  "key": "token",
                  "value": "{{be9_ownerToken}}"
                },
                {
                  "key": "targetToken",
                  "value": "{{be9_participantToken}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-8 Успешный выход участника из комнаты",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `leave_room_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be8_userToken', data.data.token);",
                  "            pm.environment.set('be8_roomName', `Комната для выхода ${timestamp}`);",
                  "            ",
                  "            const createRoomUrl = pm.environment.get('baseUrl') + `?method=createRoom&token=${data.data.token}&roomName=Комната для выхода ${timestamp}&roomSize=2`;",
                  "            pm.sendRequest({ url: createRoomUrl, method: 'GET', header: {} }, function (err2, res2) {});",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === boolean\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.a('boolean');",
                  "});",
                  "",
                  "pm.test(\"result === ok and data === true\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "    pm.expect(responseData.data).to.equal(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be8_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=leaveRoom&token={{be8_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "leaveRoom"
                },
                {
                  "key": "token",
                  "value": "{{be8_userToken}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-19 Присоединение к несуществующей комнате",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `join_room_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be19_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 2003\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(2003);",
                  "    pm.expect(responseData.error.text).to.equal('Комната не найдена');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be19_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=joinToRoom&token={{be19_userToken}}&roomId=99999",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "joinToRoom"
                },
                {
                  "key": "token",
                  "value": "{{be19_userToken}}"
                },
                {
                  "key": "roomId",
                  "value": "99999"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-21 Начало игры не владельцем комнаты",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const ownerLogin = `room_owner_${timestamp}`;",
                  "const participantLogin = `room_participant_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "",
                  "const registerOwnerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${ownerLogin}&passwordHash=${passwordHash}&nickname=${ownerLogin}`;",
                  "pm.sendRequest({ url: registerOwnerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be21_ownerToken', data.data.token);",
                  "            ",
                  "            const registerParticipantUrl = pm.environment.get('baseUrl') + `?method=registration&login=${participantLogin}&passwordHash=${passwordHash}&nickname=${participantLogin}`;",
                  "            pm.sendRequest({ url: registerParticipantUrl, method: 'GET', header: {} }, function (err2, res2) {",
                  "                if (!err2 && res2.code === 200) {",
                  "                    const data2 = res2.json();",
                  "                    if (data2.result === 'ok') {",
                  "                        pm.environment.set('be21_participantToken', data2.data.token);",
                  "                        ",
                  "                        const createRoomUrl = pm.environment.get('baseUrl') + `?method=createRoom&token=${data.data.token}&roomName=Тестовая комната ${timestamp}&roomSize=2`;",
                  "                        pm.sendRequest({ url: createRoomUrl, method: 'GET', header: {} }, function (err3, res3) {});",
                  "                    }",
                  "                }",
                  "            });",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 2010\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(2010);",
                  "    pm.expect(responseData.error.text).to.equal('Вы не являетесь хостом комнаты');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const ownerToken = pm.environment.get('be21_ownerToken');",
                  "const participantToken = pm.environment.get('be21_participantToken');",
                  "",
                  "if (ownerToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${ownerToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}",
                  "",
                  "if (participantToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${participantToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=startGame&token={{be21_participantToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "startGame"
                },
                {
                  "key": "token",
                  "value": "{{be21_participantToken}}"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Чат",
      "item": [
        {
          "name": "BE-11 Отправка сообщения в чат",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `chat_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be11_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === boolean\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.a('boolean');",
                  "});",
                  "",
                  "pm.test(\"result === ok and data === true\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "    pm.expect(responseData.data).to.equal(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be11_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=sendMessage&token={{be11_userToken}}&message=Hello World",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "sendMessage"
                },
                {
                  "key": "token",
                  "value": "{{be11_userToken}}"
                },
                {
                  "key": "message",
                  "value": "Hello World"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-12 Получение сообщений из чата",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `get_chat_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be12_userToken', data.data.token);",
                  "            ",
                  "            const sendMessageUrl = pm.environment.get('baseUrl') + `?method=sendMessage&token=${data.data.token}&message=Тестовое сообщение ${timestamp}`;",
                  "            pm.sendRequest({ url: sendMessageUrl, method: 'GET', header: {} }, function (err2, res2) {});",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === object\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"messages === array\", function () {",
                  "    pm.expect(responseData.data).to.have.property('messages');",
                  "    pm.expect(responseData.data.messages).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"hash === string\", function () {",
                  "    pm.expect(responseData.data).to.have.property('hash');",
                  "    pm.expect(responseData.data.hash).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  "",
                  "pm.test(\"hash имеет правильный формат\", function () {",
                  "    const hash = responseData.data.hash;",
                  "    pm.expect(hash).to.match(/^[a-f0-9]{32}$/);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be12_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getMessages&token={{be12_userToken}}&hash=initial_hash",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getMessages"
                },
                {
                  "key": "token",
                  "value": "{{be12_userToken}}"
                },
                {
                  "key": "hash",
                  "value": "initial_hash"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "CM-1 Получение сообщений без изменений",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `cm1_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('cm1_userToken', data.data.token);",
                  "            ",
                  "            const getMessagesUrl = pm.environment.get('baseUrl') + `?method=getMessages&token=${data.data.token}&hash=initial`;",
                  "            pm.sendRequest({ url: getMessagesUrl, method: 'GET', header: {} }, function (err2, res2) {",
                  "                if (!err2 && res2.code === 200) {",
                  "                    const data2 = res2.json();",
                  "                    if (data2.result === 'ok' && data2.data && data2.data.hash) {",
                  "                        pm.environment.set('cm1_currentHash', data2.data.hash);",
                  "                    }",
                  "                }",
                  "            });",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === object\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"data содержит messages\", function () {",
                  "    pm.expect(responseData.data).to.have.property('messages');",
                  "});",
                  "",
                  "pm.test(\"data содержит hash\", function () {",
                  "    pm.expect(responseData.data).to.have.property('hash');",
                  "});",
                  "",
                  "pm.test(\"messages === array\", function () {",
                  "    pm.expect(responseData.data.messages).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"hash === string\", function () {",
                  "    pm.expect(responseData.data.hash).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"hash имеет правильный формат\", function () {",
                  "    const hash = responseData.data.hash;",
                  "    pm.expect(hash).to.match(/^[a-f0-9]{32}$/);",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('cm1_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getMessages&token={{cm1_userToken}}&hash={{cm1_currentHash}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getMessages"
                },
                {
                  "key": "token",
                  "value": "{{cm1_userToken}}"
                },
                {
                  "key": "hash",
                  "value": "{{cm1_currentHash}}"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Меню и Классы",
      "item": [
        {
          "name": "BS-7 Получение списка всех доступных классов",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `bs7_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('bs7_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === array\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('bs7_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getClasses&token={{bs7_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getClasses"
                },
                {
                  "key": "token",
                  "value": "{{bs7_userToken}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BA-5 Покупка класса пользователем",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `ba5_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('ba5_userToken', data.data.token);",
                  "            ",
                  "            const giveMoneyUrl = pm.environment.get('baseUrl') + `?method=giveMoney&token=${data.data.token}&money=500`;",
                  "            pm.sendRequest({ url: giveMoneyUrl, method: 'GET', header: {} }, function (err2, res2) {});",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === boolean\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.a('boolean');",
                  "});",
                  "",
                  "pm.test(\"result === ok and data === true\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "    pm.expect(responseData.data).to.equal(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('ba5_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=buyClass&token={{ba5_userToken}}&classId=2",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyClass"
                },
                {
                  "key": "token",
                  "value": "{{ba5_userToken}}"
                },
                {
                  "key": "classId",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-17 Попытка покупки класса при недостатке средств",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `be17_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be17_userToken', data.data.token);",
                  "            ",
                  "            const giveMoneyUrl = pm.environment.get('baseUrl') + `?method=giveMoney&token=${data.data.token}&money=1`;",
                  "            pm.sendRequest({ url: giveMoneyUrl, method: 'GET', header: {} }, function (err2, res2) {});",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 3003\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(3003);",
                  "    pm.expect(responseData.error.text).to.equal('Недостаточно денег на покупку класса');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be17_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=buyClass&token={{be17_userToken}}&classId=2",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyClass"
                },
                {
                  "key": "token",
                  "value": "{{be17_userToken}}"
                },
                {
                  "key": "classId",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BS-6 Выбор активного класса пользователем",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `bs6_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('bs6_userToken', data.data.token);",
                  "            ",
                  "            const giveMoneyUrl = pm.environment.get('baseUrl') + `?method=giveMoney&token=${data.data.token}&money=500`;",
                  "            pm.sendRequest({ url: giveMoneyUrl, method: 'GET', header: {} }, function (err2, res2) {});",
                  "            ",
                  "            const buyClassUrl = pm.environment.get('baseUrl') + `?method=buyClass&token=${data.data.token}&classId=3`;",
                  "            pm.sendRequest({ url: buyClassUrl, method: 'GET', header: {} }, function (err3, res3) {});",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === boolean\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.a('boolean');",
                  "});",
                  "",
                  "pm.test(\"result === ok and data === true\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "    pm.expect(responseData.data).to.equal(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('bs6_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=selectClass&token={{bs6_userToken}}&classId=3",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "selectClass"
                },
                {
                  "key": "token",
                  "value": "{{bs6_userToken}}"
                },
                {
                  "key": "classId",
                  "value": "3"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-18 Попытка выбора класса, который не был куплен",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `be18_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be18_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 3005\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(3005);",
                  "    pm.expect(responseData.error.text).to.equal('Класс не приобретен');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be18_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=selectClass&token={{be18_userToken}}&classId=3",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "selectClass"
                },
                {
                  "key": "token",
                  "value": "{{be18_userToken}}"
                },
                {
                  "key": "classId",
                  "value": "3"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BS-4 Получение информации о пользователе",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `bs4_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('bs4_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === object\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  "",
                  "pm.test(\"data содержит characterId\", function () {",
                  "    pm.expect(responseData.data).to.have.property('characterId');",
                  "    pm.expect(responseData.data.characterId).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"data содержит userId\", function () {",
                  "    pm.expect(responseData.data).to.have.property('userId');",
                  "    pm.expect(responseData.data.userId).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"data содержит nickname\", function () {",
                  "    pm.expect(responseData.data).to.have.property('nickname');",
                  "    pm.expect(responseData.data.nickname).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data содержит money\", function () {",
                  "    pm.expect(responseData.data).to.have.property('money');",
                  "    pm.expect(responseData.data.money).to.be.a('number');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('bs4_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getUserInfo&token={{bs4_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getUserInfo"
                },
                {
                  "key": "token",
                  "value": "{{bs4_userToken}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BS-8 Получение списка купленных пользователем классов",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `bs8_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('bs8_userToken', data.data.token);",
                  "            ",
                  "            const giveMoneyUrl = pm.environment.get('baseUrl') + `?method=giveMoney&token=${data.data.token}&money=1000`;",
                  "            pm.sendRequest({ url: giveMoneyUrl, method: 'GET', header: {} }, function (err2, res2) {});",
                  "            ",
                  "            const buyClass1Url = pm.environment.get('baseUrl') + `?method=buyClass&token=${data.data.token}&classId=2`;",
                  "            pm.sendRequest({ url: buyClass1Url, method: 'GET', header: {} }, function (err3, res3) {});",
                  "            ",
                  "            const buyClass2Url = pm.environment.get('baseUrl') + `?method=buyClass&token=${data.data.token}&classId=3`;",
                  "            pm.sendRequest({ url: buyClass2Url, method: 'GET', header: {} }, function (err4, res4) {});",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === object\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('bs8_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getUserInfo&token={{bs8_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getUserInfo"
                },
                {
                  "key": "token",
                  "value": "{{bs8_userToken}}"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Классы",
      "item": [
        {
          "name": "CL-1 Попытка покупки несуществующего класса",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `cl1_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('cl1_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 3001\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(3001);",
                  "    pm.expect(responseData.error.text).to.equal('Класс не найден');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('cl1_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=buyClass&token={{cl1_userToken}}&classId=999",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyClass"
                },
                {
                  "key": "token",
                  "value": "{{cl1_userToken}}"
                },
                {
                  "key": "classId",
                  "value": "999"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "CL-2 Попытка повторной покупки класса",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `cl2_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('cl2_userToken', data.data.token);",
                  "            ",
                  "            const buyClassUrl = pm.environment.get('baseUrl') + `?method=buyClass&token=${data.data.token}&classId=2`;",
                  "            pm.sendRequest({ url: buyClassUrl, method: 'GET', header: {} }, function (err2, res2) {});",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 3002\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(3002);",
                  "    pm.expect(responseData.error.text).to.equal('Класс уже приобретен');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('cl2_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=buyClass&token={{cl2_userToken}}&classId=2",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyClass"
                },
                {
                  "key": "token",
                  "value": "{{cl2_userToken}}"
                },
                {
                  "key": "classId",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "CL-3 Попытка выбора несуществующего класса",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `cl3_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('cl3_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 3001\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(3001);",
                  "    pm.expect(responseData.error.text).to.equal('Класс не найден');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('cl3_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=selectClass&token={{cl3_userToken}}&classId=999",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "selectClass"
                },
                {
                  "key": "token",
                  "value": "{{cl3_userToken}}"
                },
                {
                  "key": "classId",
                  "value": "999"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "CL-4 Попытка выбора некупленного класса",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `cl4_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('cl4_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 3005\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(3005);",
                  "    pm.expect(responseData.error.text).to.equal('Класс не приобретен');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('cl4_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=selectClass&token={{cl4_userToken}}&classId=3",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "selectClass"
                },
                {
                  "key": "token",
                  "value": "{{cl4_userToken}}"
                },
                {
                  "key": "classId",
                  "value": "3"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "CL-5 Получение списка всех классов",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `cl5_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('cl5_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === array\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  "",
                  "pm.test(\"Проверка структуры каждого элемента массива\", function () {",
                  "    responseData.data.forEach(function(item, index) {",
                  "        pm.expect(item).to.be.an('object');",
                  "        pm.expect(item).to.have.property('id');",
                  "        pm.expect(item.id).to.be.a('number');",
                  "        pm.expect(item).to.have.property('name');",
                  "        pm.expect(item.name).to.be.a('string');",
                  "        pm.expect(item).to.have.property('type');",
                  "        pm.expect(item.type).to.be.a('string');",
                  "        pm.expect(item).to.have.property('cost');",
                  "        pm.expect(item.cost).to.be.a('number');",
                  "        pm.expect(item).to.have.property('hp');",
                  "        pm.expect(item.hp).to.be.a('number');",
                  "        pm.expect(item).to.have.property('defense');",
                  "        pm.expect(item.defense).to.be.a('number');",
                  "        pm.expect(item).to.have.property('speed');",
                  "        pm.expect(item.speed).to.be.a('number');",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Проверка конкретных значений классов\", function () {",
                  "    const classes = responseData.data;",
                  "    pm.expect(classes[0].id).to.equal(1);",
                  "    pm.expect(classes[0].name).to.equal('Воин');",
                  "    pm.expect(classes[0].type).to.equal('warrior');",
                  "    pm.expect(classes[0].cost).to.equal(100);",
                  "    pm.expect(classes[0].hp).to.equal(100);",
                  "    pm.expect(classes[0].defense).to.equal(100);",
                  "    pm.expect(classes[0].speed).to.equal(10);",
                  "    pm.expect(classes[1].id).to.equal(2);",
                  "    pm.expect(classes[1].name).to.equal('Лучник');",
                  "    pm.expect(classes[1].type).to.equal('mage');",
                  "    pm.expect(classes[1].cost).to.equal(150);",
                  "    pm.expect(classes[1].hp).to.equal(120);",
                  "    pm.expect(classes[1].defense).to.equal(80);",
                  "    pm.expect(classes[1].speed).to.equal(15);",
                  "    pm.expect(classes[2].id).to.equal(3);",
                  "    pm.expect(classes[2].name).to.equal('Плут');",
                  "    pm.expect(classes[2].type).to.equal('rogue');",
                  "    pm.expect(classes[2].cost).to.equal(150);",
                  "    pm.expect(classes[2].hp).to.equal(80);",
                  "    pm.expect(classes[2].defense).to.equal(120);",
                  "    pm.expect(classes[2].speed).to.equal(20);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('cl5_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getClasses&token={{cl5_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getClasses"
                },
                {
                  "key": "token",
                  "value": "{{cl5_userToken}}"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Базовые методы",
      "item": [
        {
          "name": "BM-1 Вызов несуществующего метода",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 102\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(102);",
                  "    pm.expect(responseData.error.text).to.equal('Метод не найден');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=nonExistentMethod",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "nonExistentMethod"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BM-2 Вызов метода без обязательных параметров",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 242\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(242);",
                  "    pm.expect(responseData.error.text).to.equal('Не переданы все необходимые параметры');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=login",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "login"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Рейтинг",
      "item": [
        {
          "name": "BE-6 Получение рейтинговой таблицы",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `rating_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('be6_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === array\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('be6_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getRatingTable&token={{be6_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getRatingTable"
                },
                {
                  "key": "token",
                  "value": "{{be6_userToken}}"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Боты",
      "item": [
        {
          "name": "BE-1 Покупка предмета",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://knightwars.local/api/?method=buyItem&token=token_user_1_12345&itemId=1",
              "protocol": "http",
              "host": [
                "knightwars",
                "local"
              ],
              "path": [
                "api",
                ""
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyItem"
                },
                {
                  "key": "token",
                  "value": "token_user_1_12345"
                },
                {
                  "key": "itemId",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-2 Продажа предмета",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://knightwars.local/api/?method=sellItem&token=token_user_1_12345&itemId=1",
              "protocol": "http",
              "host": [
                "knightwars",
                "local"
              ],
              "path": [
                "api",
                ""
              ],
              "query": [
                {
                  "key": "method",
                  "value": "sellItem"
                },
                {
                  "key": "token",
                  "value": "token_user_1_12345"
                },
                {
                  "key": "itemId",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-3 Создание бота в комнате",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://knightwars.local/api/?method=spawnBot&token=token_user_1&botType=mage&botData={\"hp\":80,\"x\":400,\"y\":200}",
              "protocol": "http",
              "host": [
                "knightwars",
                "local"
              ],
              "path": [
                "api",
                ""
              ],
              "query": [
                {
                  "key": "method",
                  "value": "spawnBot"
                },
                {
                  "key": "token",
                  "value": "token_user_1"
                },
                {
                  "key": "botType",
                  "value": "mage"
                },
                {
                  "key": "botData",
                  "value": "{\"hp\":80,\"x\":400,\"y\":200}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-4 Получение списка ботов в комнате",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://knightwars.local/api/?method=getBots&roomId=35",
              "protocol": "http",
              "host": [
                "knightwars",
                "local"
              ],
              "path": [
                "api",
                ""
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getBots"
                },
                {
                  "key": "roomId",
                  "value": "35"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-5 Обновление данных бота в комнате",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://knightwars.local/api/?method=updateBot&token=token_user_1_12345&botId=10&botData={\"hp\":150,\"x\":60,\"y\":80}",
              "protocol": "http",
              "host": [
                "knightwars",
                "local"
              ],
              "path": [
                "api",
                ""
              ],
              "query": [
                {
                  "key": "method",
                  "value": "updateBot"
                },
                {
                  "key": "token",
                  "value": "token_user_1_12345"
                },
                {
                  "key": "botId",
                  "value": "10"
                },
                {
                  "key": "botData",
                  "value": "{\"hp\":150,\"x\":60,\"y\":80}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "BE-6 Удаление бота из комнаты",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://knightwars.local/api/?method=removeBot&token=token_user_1_12345&botId=10",
              "protocol": "http",
              "host": [
                "knightwars",
                "local"
              ],
              "path": [
                "api",
                ""
              ],
              "query": [
                {
                  "key": "method",
                  "value": "removeBot"
                },
                {
                  "key": "token",
                  "value": "token_user_1_12345"
                },
                {
                  "key": "botId",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Игра",
      "item": [
        {
          "name": "GM-1 Получение данных всех типов ботов",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `game_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('gm1_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === array\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"result === ok\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "});",
                  "",
                  "pm.test(\"Проверка структуры каждого элемента массива\", function () {",
                  "    responseData.data.forEach(function(bot, index) {",
                  "        pm.expect(bot).to.be.an('object');",
                  "        ",
                  "        pm.expect(bot).to.have.property('id');",
                  "        pm.expect(bot.id).to.be.a('number');",
                  "        ",
                  "        pm.expect(bot).to.have.property('name');",
                  "        pm.expect(bot.name).to.be.a('string');",
                  "        ",
                  "        pm.expect(bot).to.have.property('hp');",
                  "        pm.expect(bot.hp).to.be.a('number');",
                  "        ",
                  "        pm.expect(bot).to.have.property('damage');",
                  "        pm.expect(bot.damage).to.be.a('number');",
                  "        ",
                  "        pm.expect(bot).to.have.property('attackSpeed');",
                  "        pm.expect(bot.attackSpeed).to.be.a('number');",
                  "        ",
                  "        pm.expect(bot).to.have.property('attackDistance');",
                  "        pm.expect(bot.attackDistance).to.be.a('number');",
                  "        ",
                  "        pm.expect(bot).to.have.property('money');",
                  "        pm.expect(bot.money).to.be.a('number');",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('gm1_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getBotsData&token={{gm1_userToken}}",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getBotsData"
                },
                {
                  "key": "token",
                  "value": "{{gm1_userToken}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "GM-2 Успешное начисление денег персонажу",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `game_money_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('gm2_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === boolean\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.a('boolean');",
                  "});",
                  "",
                  "pm.test(\"result === ok and data === true\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "    pm.expect(responseData.data).to.equal(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('gm2_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=giveMoney&token={{gm2_userToken}}&money=50",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "giveMoney"
                },
                {
                  "key": "token",
                  "value": "{{gm2_userToken}}"
                },
                {
                  "key": "money",
                  "value": "50"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "GM-3 Начисление отрицательной суммы денег",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `game_neg_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('gm3_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 5001\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(5001);",
                  "    pm.expect(responseData.error.text).to.equal('Сумма денег не может быть отрицательной или равна нулю');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('gm3_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=giveMoney&token={{gm3_userToken}}&money=-10",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "giveMoney"
                },
                {
                  "key": "token",
                  "value": "{{gm3_userToken}}"
                },
                {
                  "key": "money",
                  "value": "-10"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "GM-4 Начисление нулевой суммы денег",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `game_zero_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('gm4_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"error === object\", function () {",
                  "    pm.expect(responseData).to.have.property('error');",
                  "    pm.expect(responseData.error).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"code === number\", function () {",
                  "    pm.expect(responseData.error).to.have.property('code');",
                  "    pm.expect(responseData.error.code).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"text === string\", function () {",
                  "    pm.expect(responseData.error).to.have.property('text');",
                  "    pm.expect(responseData.error.text).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"result === error and code === 5001\", function () {",
                  "    pm.expect(responseData.result).to.equal('error');",
                  "    pm.expect(responseData.error.code).to.equal(5001);",
                  "    pm.expect(responseData.error.text).to.equal('Сумма денег не может быть отрицательной или равна нулю');",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('gm4_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=giveMoney&token={{gm4_userToken}}&money=0",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "giveMoney"
                },
                {
                  "key": "token",
                  "value": "{{gm4_userToken}}"
                },
                {
                  "key": "money",
                  "value": "0"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "GM-5 Начисление денег персонажу",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const timestamp = Date.now();",
                  "const login = `game_five_user_${timestamp}`;",
                  "const passwordHash = CryptoJS.MD5('password12345').toString();",
                  "const registerUrl = pm.environment.get('baseUrl') + `?method=registration&login=${login}&passwordHash=${passwordHash}&nickname=${login}`;",
                  "pm.sendRequest({ url: registerUrl, method: 'GET', header: {} }, function (err, res) {",
                  "    if (!err && res.code === 200) {",
                  "        const data = res.json();",
                  "        if (data.result === 'ok') {",
                  "            pm.environment.set('gm5_userToken', data.data.token);",
                  "        }",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Ответ === JSON\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "const responseData = pm.response.json();",
                  "",
                  "pm.test(\"Ответ === object\", function () {",
                  "    pm.expect(responseData).to.be.an('object');",
                  "});",
                  "",
                  "pm.test(\"result === string\", function () {",
                  "    pm.expect(responseData).to.have.property('result');",
                  "    pm.expect(responseData.result).to.be.a('string');",
                  "});",
                  "",
                  "pm.test(\"data === boolean\", function () {",
                  "    pm.expect(responseData).to.have.property('data');",
                  "    pm.expect(responseData.data).to.be.a('boolean');",
                  "});",
                  "",
                  "pm.test(\"result === ok and data === true\", function () {",
                  "    pm.expect(responseData.result).to.equal('ok');",
                  "    pm.expect(responseData.data).to.equal(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "after",
              "script": {
                "exec": [
                  "const userToken = pm.environment.get('gm5_userToken');",
                  "if (userToken) {",
                  "    const deleteUrl = pm.environment.get('baseUrl') + `?method=deleteUser&token=${userToken}`;",
                  "    pm.sendRequest({ url: deleteUrl, method: 'GET', header: {} }, function (err, res) {});",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=giveMoney&token={{gm5_userToken}}&money=100",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "giveMoney"
                },
                {
                  "key": "token",
                  "value": "{{gm5_userToken}}"
                },
                {
                  "key": "money",
                  "value": "100"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "предметы",
      "item": [
        {
          "name": "IM-1 Попытка покупки несуществующего предмета",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Ответ === JSON\", function () {\r",
                  "    pm.response.to.be.json;\r",
                  "});\r",
                  "\r",
                  "const responseData = pm.response.json();\r",
                  "\r",
                  "pm.test(\"Ответ === object\", function () {\r",
                  "    pm.expect(responseData).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === string\", function () {\r",
                  "    pm.expect(responseData).to.have.property('result');\r",
                  "    pm.expect(responseData.result).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"error === object\", function () {\r",
                  "    pm.expect(responseData).to.have.property('error');\r",
                  "    pm.expect(responseData.error).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"code === number\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('code');\r",
                  "    pm.expect(responseData.error.code).to.be.a('number');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"text === string\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('text');\r",
                  "    pm.expect(responseData.error.text).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === error and code === 4001 and text === Предмет не найден\", function () {\r",
                  "    pm.expect(responseData.result).to.equal('error');\r",
                  "    pm.expect(responseData.error.code).to.equal(4001);\r",
                  "    pm.expect(responseData.error.text).to.equal('Предмет не найден');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=buyItem&token=b016e63c15fa63d9938ad2d42699fc33&itemId=999",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyItem"
                },
                {
                  "key": "token",
                  "value": "b016e63c15fa63d9938ad2d42699fc33"
                },
                {
                  "key": "itemId",
                  "value": "999"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-2 Попытка продажи несуществующего предмета",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Ответ === JSON\", function () {\r",
                  "    pm.response.to.be.json;\r",
                  "});\r",
                  "\r",
                  "const responseData = pm.response.json();\r",
                  "\r",
                  "pm.test(\"Ответ === object\", function () {\r",
                  "    pm.expect(responseData).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === string\", function () {\r",
                  "    pm.expect(responseData).to.have.property('result');\r",
                  "    pm.expect(responseData.result).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"error === object\", function () {\r",
                  "    pm.expect(responseData).to.have.property('error');\r",
                  "    pm.expect(responseData.error).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"code === number\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('code');\r",
                  "    pm.expect(responseData.error.code).to.be.a('number');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"text === string\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('text');\r",
                  "    pm.expect(responseData.error.text).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === error and code === 4001 and text === Предмет не найден\", function () {\r",
                  "    pm.expect(responseData.result).to.equal('error');\r",
                  "    pm.expect(responseData.error.code).to.equal(4001);\r",
                  "    pm.expect(responseData.error.text).to.equal('Предмет не найден');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=sellItem&token=b016e63c15fa63d9938ad2d42699fc33&itemId=999",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "sellItem"
                },
                {
                  "key": "token",
                  "value": "b016e63c15fa63d9938ad2d42699fc33"
                },
                {
                  "key": "itemId",
                  "value": "999"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-3 Попытка продажи предмета, которого нет в инвентаре",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Ответ === JSON\", function () {\r",
                  "    pm.response.to.be.json;\r",
                  "});\r",
                  "\r",
                  "const responseData = pm.response.json();\r",
                  "\r",
                  "pm.test(\"Ответ === object\", function () {\r",
                  "    pm.expect(responseData).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === string\", function () {\r",
                  "    pm.expect(responseData).to.have.property('result');\r",
                  "    pm.expect(responseData.result).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"error === object\", function () {\r",
                  "    pm.expect(responseData).to.have.property('error');\r",
                  "    pm.expect(responseData.error).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"code === number\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('code');\r",
                  "    pm.expect(responseData.error.code).to.be.a('number');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"text === string\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('text');\r",
                  "    pm.expect(responseData.error.text).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === error and code === 4006 and text === предмет не найден в инвентаре\", function () {\r",
                  "    pm.expect(responseData.result).to.equal('error');\r",
                  "    pm.expect(responseData.error.code).to.equal(4006);\r",
                  "    pm.expect(responseData.error.text).to.equal('предмет не найден в инвентаре');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=sellItem&token=b016e63c15fa63d9938ad2d42699fc33&itemId=not_owned_item_id",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "sellItem"
                },
                {
                  "key": "token",
                  "value": "b016e63c15fa63d9938ad2d42699fc33"
                },
                {
                  "key": "itemId",
                  "value": "not_owned_item_id"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-4 Попытка использования стрелы без лука",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Ответ === JSON\", function () {\r",
                  "    pm.response.to.be.json;\r",
                  "});\r",
                  "\r",
                  "const responseData = pm.response.json();\r",
                  "\r",
                  "pm.test(\"Ответ === object\", function () {\r",
                  "    pm.expect(responseData).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === string\", function () {\r",
                  "    pm.expect(responseData).to.have.property('result');\r",
                  "    pm.expect(responseData.result).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"error === object\", function () {\r",
                  "    pm.expect(responseData).to.have.property('error');\r",
                  "    pm.expect(responseData.error).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"code === number\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('code');\r",
                  "    pm.expect(responseData.error.code).to.be.a('number');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"text === string\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('text');\r",
                  "    pm.expect(responseData.error.text).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === error and code === 4008 and text === Лук не экипирован\", function () {\r",
                  "    pm.expect(responseData.result).to.equal('error');\r",
                  "    pm.expect(responseData.error.code).to.equal(4008);\r",
                  "    pm.expect(responseData.error.text).to.equal('Лук не экипирован');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=useArrow&token=b016e63c15fa63d9938ad2d42699fc33",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "useArrow"
                },
                {
                  "key": "token",
                  "value": "b016e63c15fa63d9938ad2d42699fc33"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-5 Попытка использования стрелы без стрел в инвентаре",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Ответ === JSON\", function () {\r",
                  "    pm.response.to.be.json;\r",
                  "});\r",
                  "\r",
                  "const responseData = pm.response.json();\r",
                  "\r",
                  "pm.test(\"Ответ === object\", function () {\r",
                  "    pm.expect(responseData).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === string\", function () {\r",
                  "    pm.expect(responseData).to.have.property('result');\r",
                  "    pm.expect(responseData.result).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"error === object\", function () {\r",
                  "    pm.expect(responseData).to.have.property('error');\r",
                  "    pm.expect(responseData.error).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"code === number\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('code');\r",
                  "    pm.expect(responseData.error.code).to.be.a('number');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"text === string\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('text');\r",
                  "    pm.expect(responseData.error.text).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === error and code === 4009 and text === стрелы не экипированы\", function () {\r",
                  "    pm.expect(responseData.result).to.equal('error');\r",
                  "    pm.expect(responseData.error.code).to.equal(4009);\r",
                  "    pm.expect(responseData.error.text).to.equal('стрелы не экипированы');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=useArrow&token=b016e63c15fa63d9938ad2d42699fc33",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "useArrow"
                },
                {
                  "key": "token",
                  "value": "b016e63c15fa63d9938ad2d42699fc33"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-6 Попытка использования зелья без зелий в инвентаре",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Ответ === JSON\", function () {\r",
                  "    pm.response.to.be.json;\r",
                  "});\r",
                  "\r",
                  "const responseData = pm.response.json();\r",
                  "\r",
                  "pm.test(\"Ответ === object\", function () {\r",
                  "    pm.expect(responseData).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === string\", function () {\r",
                  "    pm.expect(responseData).to.have.property('result');\r",
                  "    pm.expect(responseData.result).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"error === object\", function () {\r",
                  "    pm.expect(responseData).to.have.property('error');\r",
                  "    pm.expect(responseData.error).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"code === number\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('code');\r",
                  "    pm.expect(responseData.error.code).to.be.a('number');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"text === string\", function () {\r",
                  "    pm.expect(responseData.error).to.have.property('text');\r",
                  "    pm.expect(responseData.error.text).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === error and code === 4010 and text === Зелья не экипированы\", function () {\r",
                  "    pm.expect(responseData.result).to.equal('error');\r",
                  "    pm.expect(responseData.error.code).to.equal(4010);\r",
                  "    pm.expect(responseData.error.text).to.equal('Зелья не экипированы');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=usePotion&token=b016e63c15fa63d9938ad2d42699fc33",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "usePotion"
                },
                {
                  "key": "token",
                  "value": "b016e63c15fa63d9938ad2d42699fc33"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-7 Покупка зелья при достижении лимита",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=buyItem&token=b016e63c15fa63d9938ad2d42699fc33&itemId=1",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyItem"
                },
                {
                  "key": "token",
                  "value": "b016e63c15fa63d9938ad2d42699fc33"
                },
                {
                  "key": "itemId",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-8 Покупка стрел при достижении лимита",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=buyItem&token=user_token&itemId=arrow_id",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyItem"
                },
                {
                  "key": "token",
                  "value": "user_token"
                },
                {
                  "key": "itemId",
                  "value": "arrow_id"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-9 Покупка второго предмета того же типа (не расходника)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=buyItem&token=user_token&itemId=another_sword_id",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "buyItem"
                },
                {
                  "key": "token",
                  "value": "user_token"
                },
                {
                  "key": "itemId",
                  "value": "another_sword_id"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "IM-10 Получение данных всех предметов",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Статус код === 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Ответ === JSON\", function () {\r",
                  "    pm.response.to.be.json;\r",
                  "});\r",
                  "\r",
                  "const responseData = pm.response.json();\r",
                  "\r",
                  "pm.test(\"Ответ === object\", function () {\r",
                  "    pm.expect(responseData).to.be.an('object');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === string\", function () {\r",
                  "    pm.expect(responseData).to.have.property('result');\r",
                  "    pm.expect(responseData.result).to.be.a('string');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"data === array\", function () {\r",
                  "    pm.expect(responseData).to.have.property('data');\r",
                  "    pm.expect(responseData.data).to.be.an('array');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"result === ok\", function () {\r",
                  "    pm.expect(responseData.result).to.equal('ok');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Проверка структуры каждого элемента массива (предмета)\", function () {\r",
                  "    responseData.data.forEach(function(item, index) {\r",
                  "        pm.expect(item).to.be.an('object');\r",
                  "        \r",
                  "        // Обязательные свойства\r",
                  "        pm.expect(item).to.have.property('id');\r",
                  "        pm.expect(item.id).to.be.a('number');\r",
                  "        pm.expect(item.id).to.be.greaterThan(0);\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('name');\r",
                  "        pm.expect(item.name).to.be.a('string');\r",
                  "        pm.expect(item.name).to.not.be.empty;\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('itemType');\r",
                  "        pm.expect(item.itemType).to.be.a('string');\r",
                  "        pm.expect(['weapon', 'arrow', 'potion', 'helmet', 'chestplate', 'leggings', 'shield']).to.include(item.itemType);\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('weaponType');\r",
                  "        // weaponType может быть null или строкой\r",
                  "        if (item.weaponType !== null) {\r",
                  "            pm.expect(item.weaponType).to.be.a('string');\r",
                  "            pm.expect(['sword', 'bow']).to.include(item.weaponType);\r",
                  "        }\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('damage');\r",
                  "        pm.expect(item.damage).to.be.a('number');\r",
                  "        pm.expect(item.damage).to.be.at.least(0);\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('attackSpeed');\r",
                  "        pm.expect(item.attackSpeed).to.be.a('number');\r",
                  "        pm.expect(item.attackSpeed).to.be.at.least(0);\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('attackDistance');\r",
                  "        pm.expect(item.attackDistance).to.be.a('number');\r",
                  "        pm.expect(item.attackDistance).to.be.at.least(0);\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('bonusDefense');\r",
                  "        pm.expect(item.bonusDefense).to.be.a('number');\r",
                  "        pm.expect(item.bonusDefense).to.be.at.least(0);\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('bonusHp');\r",
                  "        pm.expect(item.bonusHp).to.be.a('number');\r",
                  "        pm.expect(item.bonusHp).to.be.at.least(0);\r",
                  "        \r",
                  "        pm.expect(item).to.have.property('cost');\r",
                  "        pm.expect(item.cost).to.be.a('number');\r",
                  "        pm.expect(item.cost).to.be.greaterThan(0);\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Проверка логики типов предметов\", function () {\r",
                  "    responseData.data.forEach(function(item) {\r",
                  "        // Проверка для оружия\r",
                  "        if (item.itemType === 'weapon') {\r",
                  "            pm.expect(item.weaponType).to.be.oneOf(['sword', 'bow']);\r",
                  "            pm.expect(item.damage).to.be.greaterThan(0);\r",
                  "        }\r",
                  "        \r",
                  "        // Проверка для стрел\r",
                  "        if (item.itemType === 'arrow') {\r",
                  "            pm.expect(item.weaponType).to.equal(null);\r",
                  "            pm.expect(item.damage).to.be.greaterThan(0);\r",
                  "        }\r",
                  "        \r",
                  "        // Проверка для зелий\r",
                  "        if (item.itemType === 'potion') {\r",
                  "            pm.expect(item.weaponType).to.equal(null);\r",
                  "            pm.expect(item.damage).to.equal(0);\r",
                  "            pm.expect(item.bonusDefense).to.equal(0);\r",
                  "            pm.expect(item.bonusHp).to.equal(0);\r",
                  "        }\r",
                  "        \r",
                  "        // Проверка для брони\r",
                  "        if (['helmet', 'chestplate', 'leggings', 'shield'].includes(item.itemType)) {\r",
                  "            pm.expect(item.weaponType).to.equal(null);\r",
                  "            pm.expect(item.damage).to.equal(0);\r",
                  "            pm.expect(item.bonusDefense).to.be.greaterThan(0);\r",
                  "            pm.expect(item.bonusHp).to.be.greaterThan(0);\r",
                  "        }\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Проверка конкретных предметов из ответа\", function () {\r",
                  "    const items = responseData.data;\r",
                  "    \r",
                  "    // Проверка стрелы (ID: 1)\r",
                  "    const arrow = items.find(i => i.id === 1);\r",
                  "    pm.expect(arrow).to.exist;\r",
                  "    pm.expect(arrow.name).to.equal('Стрела');\r",
                  "    pm.expect(arrow.itemType).to.equal('arrow');\r",
                  "    pm.expect(arrow.damage).to.equal(10);\r",
                  "    pm.expect(arrow.cost).to.equal(4);\r",
                  "    \r",
                  "    // Проверка зелья (ID: 2)\r",
                  "    const potion = items.find(i => i.id === 2);\r",
                  "    pm.expect(potion).to.exist;\r",
                  "    pm.expect(potion.name).to.equal('Зелье');\r",
                  "    pm.expect(potion.itemType).to.equal('potion');\r",
                  "    pm.expect(potion.damage).to.equal(0);\r",
                  "    pm.expect(potion.cost).to.equal(8);\r",
                  "    \r",
                  "    // Проверка стандартного меча (ID: 3)\r",
                  "    const sword = items.find(i => i.id === 3);\r",
                  "    pm.expect(sword).to.exist;\r",
                  "    pm.expect(sword.name).to.equal('Стандартный меч');\r",
                  "    pm.expect(sword.itemType).to.equal('weapon');\r",
                  "    pm.expect(sword.weaponType).to.equal('sword');\r",
                  "    pm.expect(sword.damage).to.equal(10);\r",
                  "    pm.expect(sword.cost).to.equal(20);\r",
                  "    \r",
                  "    // Проверка меча героя (ID: 9)\r",
                  "    const heroSword = items.find(i => i.id === 9);\r",
                  "    pm.expect(heroSword).to.exist;\r",
                  "    pm.expect(heroSword.name).to.equal('Меч героя');\r",
                  "    pm.expect(heroSword.damage).to.equal(20);\r",
                  "    pm.expect(heroSword.cost).to.equal(40);\r",
                  "    \r",
                  "    // Проверка, что меч героя лучше стандартного\r",
                  "    pm.expect(heroSword.damage).to.be.greaterThan(sword.damage);\r",
                  "    pm.expect(heroSword.cost).to.be.greaterThan(sword.cost);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Проверка уникальности ID предметов\", function () {\r",
                  "    const ids = responseData.data.map(item => item.id);\r",
                  "    const uniqueIds = [...new Set(ids)];\r",
                  "    pm.expect(ids.length).to.equal(uniqueIds.length);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Проверка наличия всех типов предметов\", function () {\r",
                  "    const itemTypes = responseData.data.map(item => item.itemType);\r",
                  "    const uniqueTypes = [...new Set(itemTypes)];\r",
                  "    \r",
                  "    // Должны присутствовать все основные типы\r",
                  "    const expectedTypes = ['arrow', 'potion', 'weapon', 'helmet', 'chestplate', 'leggings', 'shield'];\r",
                  "    expectedTypes.forEach(function(type) {\r",
                  "        pm.expect(uniqueTypes).to.include(type);\r",
                  "    });\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}?method=getItemsData&token=b016e63c15fa63d9938ad2d42699fc33",
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "key": "method",
                  "value": "getItemsData"
                },
                {
                  "key": "token",
                  "value": "b016e63c15fa63d9938ad2d42699fc33"
                }
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "requests": {},
        "exec": [
          "if (!pm.environment.get('baseUrl')) { pm.environment.set('baseUrl', 'http://knightwars.local/api'); }"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "requests": {},
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://knightwars.local/api"
    },
    {
      "key": "userToken",
      "value": ""
    }
  ]
}